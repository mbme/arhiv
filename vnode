#!/usr/bin/env -S node

// make nodejs support TypeScript's type aliases
// https://github.com/Microsoft/TypeScript/issues/15479#issuecomment-468122916
require('tsconfig-paths').register({
  baseUrl: './',
  paths: require('./tsconfig.json').compilerOptions.paths
});

const isProduction = process.env.NODE_ENV === 'production'

require('ts-node').register({
  transpileOnly: isProduction,
  compilerOptions: {
    module: 'commonjs',
    types: ['node'],
  },
});


process.env.__BROWSER__ = false
process.env.BASE_DIR = __dirname

const path = require('path');

require(path.join(process.cwd(), process.argv[2]));
